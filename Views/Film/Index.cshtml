@*
    For more information on enabling MVC for empty projects, visit https://go.microsoft.com/fwlink/?LinkID=397860
*@
@* @{
} *@
@model IEnumerable<GestionCinema.Models.film>

@{
    ViewBag.Title = "Listes des Film";
}

<h2>liste des films enregistres</h2>
<div class="col-md-10 justify-content-between m-4">
     <a asp-action="Create" asp-controller="Film" class="btn btn-primary">Ajouter un Film</a>
    <a asp-action="VoirFilm" asp-controller="Film" class="btn btn-success float-end">Voir Liste Film</a>
 </div>


 <div class="row gap-5">

    @foreach (var item in Model)
    {
            <div class="card mb-3" style="width: 350px;">
                 <img class="card-img-top" src="@item.photo" alt="Card image cap" width="300px"> 
                @* <img class="card-img-top" src="image/PRETRE.jpeg" alt="Card image cap" width="300px"> *@

                <div class="card-body">
                    <h4 class="card-title">@item.Nom</h4>
                    <p class="card-text"><b>@item.FilmCategorie</b></p>
                </div>
                <ul class="list-group list-group-flush">
                    <li class="list-group-item">@item.Description</li>
                    @* <li class="list-group-item">@item.Prix</li> *@
                    <li class="list-group-item"><b>DATE DE DEBUT : </b>@item.Debut</li>
                    <li class="list-group-item"><b>DATE DE FIN : </b>@item.Fin</li>
                    @* Tester le statut de projection d'un film*@
                    <p class="card-text mx-3">
                      <b>
                             STATUS: 
                      </b>
                      @if(DateTime.Now>=item.Debut && DateTime.Now<=item.Fin)
                        {
                            <Span class=" btn btn-primary"> Disponible </Span>
                        }
                        else if (DateTime.Now <= item.Debut)
                        {
                            <Span class="btn btn-info"> Indisponible </Span>
                        }
                        else
                        {
                            <Span class="btn btn-danger"> Expire </Span>
                        }
                    </p>
                    @* Fin du teste de statut*@
                </ul>
                <div class="card-body">
                    <a href="#" class="btn btn-success col-md-7">Ajouter(@item.Prix FCFA)</a>
                   <a asp-action="Details" asp-controller="Film" asp-route-id="@item.Id" class="btn btn-outline-info col-md-4 "> <i class="bi bi-eyes-fill"></i> Details</a>
                    @* <a href="#" class="btn btn-outline-info col-md-4 " asp-action="Details"><i class="bi bi-eyes-fill"></i>Details</a> *@
                </div>
            </div>
        #region
       @*  <tr>
            <td>
                @Html.DisplayFor(modelItem => item.Nom)
            </td>
            <td>
                @Html.DisplayFor(modelItem => item.Description)
            </td>
            <th class="align-middle">
                <img class="rounded-circle" src="@item.photo" alt="@item.Nom" style="max-width:150px" />
            </th>
            <td>
                @Html.DisplayFor(modelItem => item.Prix)
            </td>
            <td>
                @Html.DisplayFor(modelItem => item.FilmCategorie)
            </td>
            <td>
                @Html.DisplayFor(modelItem => item.Debut)
            </td>
            <td>
                @Html.DisplayFor(modelItem => item.Fin)
            </td>
            <td class="btn btn-outline-primary">
                @* <a class="btn btn-outline-primary" asp-action="Edit" asp-asp-route-id="@item.Id"> </a> *@
       @*          @Html.ActionLink("Modifier", "Edit", new { id = item.Id })
            </td>
            <td class="btn btn-outline-info"> @Html.ActionLink("Details", "Delete", new { id = item.Id })</td>
            <td class="btn btn-outline-danger"> @Html.ActionLink("Supprimer", "Delete", new { id = item.Id })</td>
        </tr>  *@
        #endregion

    }

@* </table> *@

    </div>

